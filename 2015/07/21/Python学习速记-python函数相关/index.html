<html><head><meta name="generator" content="Hexo 3.9.0"><title>Python学习速记--python函数相关</title><meta name="keywords" content="KDF5000, OpenHex"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link href="/css/main.css?v=3" rel="stylesheet" type="text/css"><script src="/js/util.js"></script><script>isMobile()?loadjscssfile("../css/mobile.css","css"):loadjscssfile("../css/desktop.css","css")</script><link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=3"></head><body><h2 class="title">Python学习速记--python函数相关</h2><p>####python数据结构</p><ul><li>list = [1,2,3] 方法：list.append(ele),list.insert(pos,ele),list.pop(),list.pop(pos)</li><li>tuple = (1,2)或(1,2,[3,4]) 方法：tuble元素不可变</li><li>dict = {‘Tom’:12,’Michael’:23} 方法：dict.get(ele),dict.pop(ele)</li><li>set = set([1,2,3]) 方法：add, remobe</li></ul><p>####函数<br>函数名其实就是指向一个函数对象的引用，完全可以把函数名赋给一个变量，相当于给这个函数起了一个“别名”<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = abs #变量a指向abs函数</span><br><span class="line">&gt;&gt;&gt; a(-1) # 所以也可以通过a调用abs函数</span><br><span class="line">1</span><br></pre></td></tr></table></figure><p></p><p>python中，自己定义一个函数使用def语句，依次写出函数名、括号、括号中的参数和冒号:，然后，在缩进块中编写函数体，函数的返回值用<code>return</code>语句返回。</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#自己定义函数</span><br><span class="line">def my_abs(x):</span><br><span class="line">	if not isinstance(x,(int,float)):</span><br><span class="line">		raise TypeError(&apos;参数类型不匹配&apos;)</span><br><span class="line">	if x&gt;0:</span><br><span class="line">		return x</span><br><span class="line">	else:</span><br><span class="line">		return -x;</span><br></pre></td></tr></table></figure><p>python 中的函数可以返回多个值，返回的return语句中直接用<code>,</code>隔开即可，接收变量同样<code>,</code>隔开，如下：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#返回多个值</span><br><span class="line">import math # 导入math包 </span><br><span class="line"></span><br><span class="line">def move(x, y, step, angle=0):</span><br><span class="line">    nx = x + step * math.cos(angle)</span><br><span class="line">    ny = y - step * math.sin(angle)</span><br><span class="line">    return nx, ny</span><br><span class="line">nx,ny = move(0,0,10)</span><br><span class="line">print(nx,ny)</span><br><span class="line">#其实返回的还是一个值，是一个tuple</span><br><span class="line">r1 = move(0,0,10)</span><br><span class="line">print(r1)</span><br></pre></td></tr></table></figure><p></p><p>其实返回值是一个tuple</p><p>####函数参数<br>python支持默认参数，放在后面，而且默认参数必须指向不可对象，否则该默认参数的值在多次调用改变参数变量的值是默认参数的值也会放生变化。如下<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">def add_end(L=[]):</span><br><span class="line">	L.append(&apos;end&apos;)</span><br><span class="line">	return L;</span><br><span class="line">print(add_end()) # L的默认值是[]</span><br><span class="line">print(add_end()) # L的默认值是[&apos;end&apos;],所以结果是[&apos;end&apos;,&apos;end&apos;]</span><br><span class="line">#修改如下，将默认参数设置为不可变对象，None</span><br><span class="line">def add_end_2(L=None):</span><br><span class="line">	if L is None:</span><br><span class="line">		L = []</span><br><span class="line">	L.append(&apos;end&apos;)</span><br><span class="line">	return L</span><br><span class="line">print(add_end_2()) #L的默认值是None</span><br><span class="line">print(add_end_2()) #L的默认值是None</span><br></pre></td></tr></table></figure><p></p><p>#####可变参数<br>pytho如何实现可变参数呢？</p><ul><li>可以将list或tuple类型作为参数，这样就实现了输入可变参数，但是调用的时候必须先组装一个list或者tuple</li><li>以<code>*param</code>的形式作为参数，这样调用的时候有几个参数就写几个参数<br>对比如下：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#list形式的可变参数</span><br><span class="line">def fun_params(list):</span><br><span class="line">	sum = 0</span><br><span class="line">	for num in list:</span><br><span class="line">		sum = sum + num</span><br><span class="line">	return sum</span><br><span class="line">print(fun_params([1,2,3])) #参数必须是个list</span><br><span class="line"># “指针”形式的可变参数</span><br><span class="line">def fun_params_2(*numbers):</span><br><span class="line">	sum = 0</span><br><span class="line">	for num in numbers:</span><br><span class="line">		sum = sum + num</span><br><span class="line">	return sum</span><br><span class="line">print(fun_params_2(1,2,3)) #参数不用组装list,直接有个参数就写几个参数,其实内部参数numbers接收的是一个tuple</span><br></pre></td></tr></table></figure></li></ul><p>对于已经有的list，如何调用第二种像是的可变参数函数呢？如下代码<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list = [1,2,3]</span><br><span class="line">print(fun_params_2(*list))#只用在list或者tuple变量前加一个*即可</span><br></pre></td></tr></table></figure><p></p><p><em>总结</em>：对于可变参数，允许输入0个或者任意多个参数，内部都是组装成一个tuple</p><p>#####关键字参数<br>可变参数允许你传入0个或任意个参数，这些可变参数在函数调用时自动组装为一个tuple。而关键字参数允许你传入0个或任意个含参数名的参数，这些关键字参数在函数内部自动组装为一个dict<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#关键字参数</span><br><span class="line">def dict_fun(name,age,**kw):</span><br><span class="line">	print(&apos;name:&apos;,name,&apos;age:&apos;,age,&apos;other:&apos;,kw)</span><br><span class="line">dict_fun(&apos;jack&apos;,23,city=&apos;beijing&apos;,sex=&apos;male&apos;)#以键值对的方式调用</span><br><span class="line">#dict形式的调用</span><br><span class="line">dict_demo = &#123;&apos;city&apos;:&apos;bijing&apos;,&apos;sex&apos;:&apos;male&apos;&#125;</span><br><span class="line">dict_fun(&apos;jack&apos;,23,**dict_demo)#dict形式的调用,dict变量前加两个**</span><br></pre></td></tr></table></figure><p></p><p>#####明名关键字参数<br>和关键字参数不同的是，命名关键字参数制定了关键字参数的个数和名字，如下<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#命名关键字参数</span><br><span class="line">def kw_fun(name,age,*,city=&apos;Beijing&apos;,job):</span><br><span class="line">	print(name,age,city,job)</span><br><span class="line">kw_fun(&apos;tom&apos;,23,job=&quot;engineer&quot;)</span><br></pre></td></tr></table></figure><p></p><p>还不知道什么时候会使用，，，</p><p>#####组合参数<br>在Python中定义函数，可以用必选参数、默认参数、可变参数、关键字参数和命名关键字参数，这5种参数都可以组合使用，除了可变参数无法和命名关键字参数混合。但是请注意，参数定义的顺序必须是：必选参数、默认参数、可变参数/命名关键字参数和关键字参数。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">def f1(a, b, c=0, *args, **kw):</span><br><span class="line">    print(&apos;a =&apos;, a, &apos;b =&apos;, b, &apos;c =&apos;, c, &apos;args =&apos;, args, &apos;kw =&apos;, kw)</span><br><span class="line">f1(1,2,3,4,5,name=&apos;jack&apos;)</span><br><span class="line"></span><br><span class="line">def f2(a, b, c=0, *, d,e, **kw):</span><br><span class="line">    print(a,  b,c, d, e,kw)</span><br><span class="line"></span><br><span class="line">f2(1,2,3,d=4,e=5,name=&apos;jack&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">args = [1,2,3,4]</span><br><span class="line">ext = &#123;&apos;name&apos;:&apos;jack&apos;&#125;</span><br><span class="line">f1(*args,**ext)</span><br></pre></td></tr></table></figure><p>###总结</p><p><code>Python</code>的函数具有非常灵活的参数形态，既可以实现简单的调用，又可以传入非常复杂的参数。<br>默认参数一定要用不可变对象，如果是可变对象，程序运行时会有逻辑错误！<br>要注意定义可变参数和关键字参数的语法：<br><code>*args</code>是可变参数，<code>args</code>接收的是一个<code>tuple</code>；<br><code>**kw</code>是关键字参数，<code>kw</code>接收的是一个<code>dict</code>。<br>以及调用函数时如何传入可变参数和关键字参数的语法：<br>可变参数既可以直接传入：<code>func(1, 2, 3)</code>，又可以先组装<code>list</code>或<code>tuple</code>，再通过<code>*args</code>传入：<code>func(*(1, 2, 3))</code>；<br>关键字参数既可以直接传入：<code>func(a=1, b=2)</code>，又可以先组装<code>dict</code>，再通过<code>**kw</code>传入：<code>func(**{&#39;a&#39;: 1, &#39;b&#39;: 2})</code>。<br>使用<code>*args</code>和<code>**kw</code>是<code>Python</code>的习惯写法，当然也可以用其他参数名，但最好使用习惯用法。<br>命名的关键字参数是为了限制调用者可以传入的参数名，同时可以提供默认值。<br>定义命名的关键字参数不要忘了写分隔符*，否则定义的将是位置参数。</p><div style="display:none"><script src="http://s4.cnzz.com/stat.php?id=undefined&web_id=undefined" language="JavaScript"></script>script></div><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>