<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Page 15 - OpenHex</title>
    <meta name="keywords" content="golang,c&#43;&#43;,distributed system,storage system,对象存储,分布式存储"/>
    <meta name="description" content="A place to rock the distributed world!"/>
    <link rel="stylesheet" href="/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/prism.css"/>
    <link rel="stylesheet" href="/css/style.css"/>
</head>
<body class="post-list" data-perma="post-page-15">
<header id="header">
    <div class="container">
        <div class="header clearfix">
            <h3 id="site-title">
                <a href="/">OpenHex <sup>Just For Fun</sup></a>
            </h3>
            <nav id="site-nav">
                <ul class="nav nav-inverse nav-pills">
                    <li role="presentation" class="">
                        <a href="/" >Home
                        </a>
                    </li>
                    <li role="presentation" class="">
                        <a href="/archive" >Archive
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</header>

<section id="main">
    <div class="container">
        <div id="article-list">
            <article class="article">
                <div class="row">
                    <div class="col-md-10 col-md-offset-1 panel panel-default">
                        <header class="header">
                            <div class="meta">
                        <span class="date">
                            <span class="month">8</span>
                            <span class="day">12</span>
                        </span>
                            </div>
                            <h3 class="title">
                                <a href="/2015/8/12/%e7%88%ac%e8%99%ab%e5%ad%a6%e4%b9%a0%e8%b5%84%e6%96%99%e6%b1%87%e6%80%bb.html">爬虫学习资料汇总</a>
                            </h3>
                        </header>
                        <section class="brief"><p>收集写爬虫的相关技术资料以及有用的代码库</p>

<h4 id="技术博客">技术博客</h4>

<ul>
<li><strong>Scrapy官方英文文档</strong>: <a href="http://doc.scrapy.org/en/latest/index.html">http://doc.scrapy.org/en/latest/index.html</a></li>
<li><strong>Scrapy官方中文文档</strong>: <a href="http://scrapy-chs.readthedocs.org/zh_CN/latest/intro/tutorial.html">http://scrapy-chs.readthedocs.org/zh_CN/latest/intro/tutorial.html</a></li>
<li><a href="http://www.tuicool.com/articles/ZbEFnya">使用Scrapy抓取数据</a></li>
<li><a href="http://www.ituring.com.cn/article/114408#">Scrapy抓取豆瓣电影</a></li>
<li><a href="http://www.zhihu.com/question/20899988">知乎：如何入门爬虫</a></li>
<li><a href="http://www.tuicool.com/articles/7JVvaa">Scrapy爬虫笔记【8-Scrapy核心操作+爬豆瓣图片+数据库链接】</a></li>
<li><a href="http://cuiqingcai.com/1052.html">Python爬虫学习系列教程</a></li>
<li><a href="http://phantomjs.org/">PhantomJs</a> : 模拟浏览器解析js，js引擎</li>
<li><a href="http://casperjs.org/">CasperJs</a>: 以及<code>phantomjs</code>的js引擎相比<code>Phantomjs</code>更加简洁易用</li>
<li><a href="http://www.tuicool.com/articles/beeMNj/">PhantomJs快速入门</a></li>
</ul>

<h4 id="开源项目">开源项目</h4>

<ul>
<li><a href="https://github.com/chineking/cola">Cola</a> 一个高水平的分布式爬虫框架</li>
<li><a href="https://github.com/grangier/python-goose">Goose </a> Html Content / Article Extractor</li>
<li><a href="https://github.com/darkrho/scrapy-redis">scrapy-redis</a> 基于<code>Redis</code>和<code>Scrapy</code>的分布式爬虫框架</li>
<li><a href="https://github.com/nvie/rq">nvie/rq</a> <code>Python</code>实现的一个简单的任务队列</li>
<li><a href="http://billmill.org/bloomfilter-tutorial/">Bloom Filter</a>: 一个高效Url过滤，去重库</li>
<li><a href="https://github.com/scrapy/scrapyd">Scrapyd</a>: 部署监控<code>scrapy</code>的工具</li>
<li><a href="https://github.com/scrapy/scrapyd-client">scrapy-client</a>: 与<code>Scrapyd</code>结合发布调用<code>addversion.json</code>发布<code>Spider</code></li>
<li><a href="https://github.com/scrapinghub/scrapyjs">ScrapyJs</a>: <code>scrapy</code>官方提供的<code>JS</code>解决方案</li>
</ul>
</section>
                        <aside class="aside clearfix">
                            <a class="btn btn-primary btn-lg pull-right" href="/2015/8/12/%e7%88%ac%e8%99%ab%e5%ad%a6%e4%b9%a0%e8%b5%84%e6%96%99%e6%b1%87%e6%80%bb.html">Read More</a>
                        </aside>
                    </div>
                </div>
            </article>
            
            <article class="article">
                <div class="row">
                    <div class="col-md-10 col-md-offset-1 panel panel-default">
                        <header class="header">
                            <div class="meta">
                        <span class="date">
                            <span class="month">8</span>
                            <span class="day">11</span>
                        </span>
                            </div>
                            <h3 class="title">
                                <a href="/2015/8/11/Ubuntu%e4%b8%8bScrapy%e7%9a%84%e5%ae%89%e8%a3%85.html">Ubuntu下Scrapy的安装</a>
                            </h3>
                        </header>
                        <section class="brief"><p>最近在学习爬虫，早就听说<code>Python</code>写爬虫极爽（貌似pythoner说python都爽，不过也确实，python的类库非常丰富，不用重复造轮子），还有一个强大的框架<code>Scrapy</code>，于是决定尝试一下。</p>

<p>要想使用<code>Scrapy</code>第一件事，当然是安装<code>Scrapy</code>，尝试了<code>Windows</code>和<code>Ubuntu</code>的安装，本文先讲一下 <code>Ubuntu</code>的安装，比<code>Windows</code>的安装简单太多了。。。抽时间也会详细介绍一下怎么在<code>Windows</code>下进行安装。</p>

<p><a href="http://scrapy-chs.readthedocs.org/zh_CN/latest/intro/install.html#ubuntu-9-10">官方介绍</a>，在安装<code>Scrapy</code>前需要安装一系列的依赖.
*  <code>Python 2.7</code>： <code>Scrapy</code>是<code>Python</code>框架，当然要先安装<code>Python</code> ，不过由于<code>Scrapy</code>暂时只支持 <code>Python2.7</code>，因此首先确保你安装的是<code>Python 2.7</code>
*  <code>lxml</code>：大多数<code>Linux</code>发行版自带了<code>lxml</code>
*  <code>OpenSSL</code>：除了<code>windows</code>之外的系统都已经提供
*  <code>Python Package</code>: pip and setuptools. 由于现在<code>pip</code>依赖<code>setuptools</code>,所以安装<code>pip</code>会自动安装<code>setuptools</code></p>

<p>有上面的依赖可知，在非windows的环境下安装 Scrapy的相关依赖是比较简单的，只用安装<code>pip</code>即可。<code>Scrapy</code>使用<code>pip</code>完成安装。</p>
</section>
                        <aside class="aside clearfix">
                            <a class="btn btn-primary btn-lg pull-right" href="/2015/8/11/Ubuntu%e4%b8%8bScrapy%e7%9a%84%e5%ae%89%e8%a3%85.html">Read More</a>
                        </aside>
                    </div>
                </div>
            </article>
            
            <article class="article">
                <div class="row">
                    <div class="col-md-10 col-md-offset-1 panel panel-default">
                        <header class="header">
                            <div class="meta">
                        <span class="date">
                            <span class="month">8</span>
                            <span class="day">8</span>
                        </span>
                            </div>
                            <h3 class="title">
                                <a href="/2015/8/8/PHP%e5%b8%b8%e8%a7%81%e7%9a%84%e4%ba%94%e7%a7%8d%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%e2%80%94%e2%80%94%e5%b7%a5%e5%8e%82%e6%a8%a1%e5%bc%8f.html">PHP常见的五种设计模式——工厂模式</a>
                            </h3>
                        </header>
                        <section class="brief"><p>一直对设计模式有一种敬畏之心，每次想要看设计模式的时候就会想到<code>Erich Gamma</code>，<code>Richard Helm</code> ， <code>Ralph Johnson</code>， <code>John Vlissides</code>的黑皮<code>《设计模式》</code>，基本都望而止步，要把那本书看完可不是一时半会的，而且在没有项目经验的情况下，个人感觉基本都是纸上谈兵。</p>

<p>今天在<code>IBM Developerworks</code>上看到一篇文章将<code>PHP</code>中常用的五种设计模式，感觉还不错，而且只有五种五种五种（重要的强调三遍）！先从简单的入手，把这五种消灭了再说。以后慢慢学习其他的设计模式。</p>

<h4 id="工厂模式-factory-pattern">工厂模式（<code>Factory Pattern</code>）</h4>

<p>工厂这个词的使用是非常形象，字面意思可以这样认为，这种模式下，我们有一个工厂，这个工厂生产很多一种或者几种产品（其实多种的情况是覆盖了一种的），但是每个产品怎么生产和包装的我们不知道，其实我们也不需要知道，知道的越多你就越迷糊，以后你的行为就受制于太多杂事，也就是我们常说的耦合度太高，因此我们就将所有的事情交给工厂负责，我们只用告诉工厂需要什么，工厂把产品交付给你就是了。一旦产品的工艺发生改变，工厂负责就好，你使用该产品的工艺不受影响。因此工厂模式可以大大的降低系统的耦合度，增强系统的稳定性，当然也会提高代码的复用率。</p>

<p>在实际的程序设计中，工厂相当于一个对外的接口，那么这个接口的返回类型是确定的，那么我们怎么通过这个工厂来生产不同的产品发回给客户呢？很简单，做一个所有产品的“模子”就可以，这个“模子”有每个产品的所有特征，但是不能用，需要具体的产品实现这些特性，就是我们常说的<code>Interface</code>。
使用类图表示如下：
<img src="/media/archive/img_Factory_Pattern.png" alt="" /></p>

<h5 id="php-的实现"><code>PHP</code>的实现</h5>

<ul>
<li><p>编写一个接口 <code>Product.php</code></p>
<pre><code>&lt;?php
/**
* Created by PhpStorm.
* User: Defei
* Date: 2015/8/8
* Time: 16:14
*/
 
interface Product{
public function getName();
}
</code></pre></li>
</ul>
</section>
                        <aside class="aside clearfix">
                            <a class="btn btn-primary btn-lg pull-right" href="/2015/8/8/PHP%e5%b8%b8%e8%a7%81%e7%9a%84%e4%ba%94%e7%a7%8d%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%e2%80%94%e2%80%94%e5%b7%a5%e5%8e%82%e6%a8%a1%e5%bc%8f.html">Read More</a>
                        </aside>
                    </div>
                </div>
            </article>
            
            <article class="article">
                <div class="row">
                    <div class="col-md-10 col-md-offset-1 panel panel-default">
                        <header class="header">
                            <div class="meta">
                        <span class="date">
                            <span class="month">7</span>
                            <span class="day">31</span>
                        </span>
                            </div>
                            <h3 class="title">
                                <a href="/2015/7/31/%e4%bd%bf%e7%94%a8svn%e5%92%8cmarkdown%e7%ae%a1%e7%90%86%e9%a1%b9%e7%9b%ae%e6%96%87%e6%a1%a3.html">使用svn和markdown管理项目文档</a>
                            </h3>
                        </header>
                        <section class="brief"><p>文档管理，是每个项目非常重要又非常让人头疼的问题，每份文档可能会有不同的版本，而且可能还有有不同的人来共同编辑。除此还要考虑怎么才能方便的分享给项目组其他成员查看。也正是这些原因很多笔记记录软件推出了协同办公的功能，比如印象笔记，为知笔记等。但是把东西放在他们那里似乎不是很安全呵，毕竟是项目文档，都是比较私密的东西。也有一些团队协作平台提供了这个功能，不过他们都比较简单，只是上传下载文件。这两种方式似乎都不是很令人满意。</p>

<p>最近做项目，内部使用<code>svn</code>管理代码。就想是不是也可以使用svn来管理文档（当然有的公司确实是使用svn管理文档的），等等，这只是解决了文档的多人协作和版本控制的功能。那么怎么才能实现大家更方便的查看文档呢？借鉴现在比较流行的<code>Jekyll</code>，<code>hexo</code>搭建博客的思路，使用<code>markdown</code>写博客，然后生成<code>html</code>。因此借鉴这个思路，使用<code>svn</code>管理项目文档，项目文档尽可能使用<code>markdown</code>编写，然后写一个脚本定时解析<code>md</code>文件生成<code>html</code>，搭建一个服务器，将生成的<code>html</code>部署到服务器，这样同一个局域网的组员就可以访问这些文档了。</p>

<h4 id="搭建svn">搭建svn</h4>

<p><code>svn</code> 分为服务端和客户端，搭建详细教程参考<a href="http://www.jb51.net/article/29005.htm"><code>windows下svn服务器的搭建</code></a></p>

<h4 id="解析-md-文件生成-html">解析<code>md</code>文件生成<code>html</code></h4>

<p>markdown本来就是一种轻量级的标记语言，有很多开源的解析markdown文件的项目。本文使用一个开源的<code>PHP</code>的开源项目<a href="https://github.com/erusev/parsedown">ParseDown</a>，用来解析markdown生成html文件，在此项目的基础上，封装了一个类，实现解析指定目录下所有markdown文件，生成html文件（包括子目录下的markdown文档，按照原来的目录存放）。</p>

<p>下面是指定目录下所有的<code>md</code>文件生成<code>html</code>文件的源码：</p>
</section>
                        <aside class="aside clearfix">
                            <a class="btn btn-primary btn-lg pull-right" href="/2015/7/31/%e4%bd%bf%e7%94%a8svn%e5%92%8cmarkdown%e7%ae%a1%e7%90%86%e9%a1%b9%e7%9b%ae%e6%96%87%e6%a1%a3.html">Read More</a>
                        </aside>
                    </div>
                </div>
            </article>
            
            <div class="article-pager text-center">
                <a class="btn btn-lg btn-info" href="/posts/14.html">Prev</a>
                <a class="btn btn-lg btn-info" href="/posts/16.html">Next</a>
            </div>
        </div>
    </div>
</section>
<footer id="footer">
    <div class="container text-center">
        <p>© 2015 OpenHex.
            <a href="http://creativecommons.org/licenses/by/3.0/">Some rights reserved </a> |
            <a href="/feed.xml">Feed</a> |
            <a href="/sitemap.xml">Sitemap</a>
        </p>
        <p>Powered by <a href="https://github.com/go-xiaohei/pugo">PuGo 0.10.10 (beta)</a>. Theme by Default.
        </p>
        
    
    

    </div>
</footer>
<script src="/js/jquery-2.1.4.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/prism.min.js"></script>
<script>
    $(document).ready(function () {
        $("pre code").addClass("line-numbers")
    });
</script>
</body>
</html>
